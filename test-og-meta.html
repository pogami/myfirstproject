<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Open Graph Meta Tags Test - CourseConnect</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .test-section {
            background: #f5f5f5;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
        .url-input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .test-button {
            background: #3b82f6;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background: #2563eb;
        }
        .meta-preview {
            background: white;
            border: 1px solid #ddd;
            padding: 15px;
            margin: 10px 0;
            border-radius: 4px;
        }
        .meta-preview img {
            max-width: 100%;
            height: auto;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
        }
        .success {
            background: #d1fae5;
            color: #065f46;
            border: 1px solid #a7f3d0;
        }
        .error {
            background: #fee2e2;
            color: #991b1b;
            border: 1px solid #fca5a5;
        }
        .info {
            background: #dbeafe;
            color: #1e40af;
            border: 1px solid #93c5fd;
        }
    </style>
</head>
<body>
    <h1>CourseConnect Open Graph Meta Tags Test</h1>
    
    <div class="test-section">
        <h2>üîó Test URLs</h2>
        <p>Enter your local development URL to test Open Graph meta tags:</p>
        <input type="text" class="url-input" id="testUrl" placeholder="http://localhost:3000" value="http://localhost:3000">
        
        <h3>Quick Test Links:</h3>
        <button class="test-button" onclick="testUrl('/')">Homepage</button>
        <button class="test-button" onclick="testUrl('/about')">About Page</button>
        <button class="test-button" onclick="testUrl('/pricing')">Pricing Page</button>
        <button class="test-button" onclick="testUrl('/contact')">Contact Page</button>
        <button class="test-button" onclick="testUrl('/course/cs101')">Course Page</button>
        <button class="test-button" onclick="testUrl('/group/study-group-1')">Study Group</button>
    </div>

    <div class="test-section">
        <h2>üß™ Testing Tools</h2>
        <p>Use these tools to validate your Open Graph implementation:</p>
        
        <h3>1. Facebook Open Graph Debugger</h3>
        <p>Test how your links appear on Facebook:</p>
        <button class="test-button" onclick="openFacebookDebugger()">Open Facebook Debugger</button>
        
        <h3>2. Twitter Card Validator</h3>
        <p>Test Twitter Card previews:</p>
        <button class="test-button" onclick="openTwitterValidator()">Open Twitter Validator</button>
        
        <h3>3. LinkedIn Post Inspector</h3>
        <p>Test LinkedIn link previews:</p>
        <button class="test-button" onclick="openLinkedInInspector()">Open LinkedIn Inspector</button>
        
        <h3>4. OpenGraph.xyz (Multi-Platform)</h3>
        <p>Test across multiple platforms at once:</p>
        <button class="test-button" onclick="openOpenGraphXYZ()">Open OpenGraph.xyz</button>
    </div>

    <div class="test-section">
        <h2>üì± Manual Testing</h2>
        <p>Test link previews in real apps:</p>
        
        <h3>iMessage Testing</h3>
        <ol>
            <li>Copy a CourseConnect URL</li>
            <li>Send it to yourself in iMessage</li>
            <li>Check if the preview shows correctly</li>
        </ol>
        
        <h3>Discord Testing</h3>
        <ol>
            <li>Paste a CourseConnect URL in Discord</li>
            <li>Wait for the embed to load</li>
            <li>Verify title, description, and image</li>
        </ol>
        
        <h3>Slack Testing</h3>
        <ol>
            <li>Share a CourseConnect URL in Slack</li>
            <li>Check the link preview</li>
            <li>Ensure all meta data displays correctly</li>
        </ol>
    </div>

    <div class="test-section">
        <h2>üîç Meta Tag Inspector</h2>
        <p>Check what meta tags are currently on your page:</p>
        <button class="test-button" onclick="inspectMetaTags()">Inspect Current Page Meta Tags</button>
        <div id="metaResults"></div>
    </div>

    <div class="test-section">
        <h2>‚úÖ Expected Results</h2>
        <p>Your Open Graph implementation should show:</p>
        <ul>
            <li><strong>Homepage:</strong> "CourseConnect - AI College Platform" with main logo</li>
            <li><strong>About:</strong> "About CourseConnect - AI College Platform" with mission description</li>
            <li><strong>Pricing:</strong> "Pricing - CourseConnect" with plan information</li>
            <li><strong>Contact:</strong> "Contact Us - CourseConnect" with support information</li>
            <li><strong>Course pages:</strong> Dynamic course title and description</li>
            <li><strong>Study groups:</strong> Group name and member count</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>üêõ Troubleshooting</h2>
        <p>Common issues and solutions:</p>
        <ul>
            <li><strong>Images not showing:</strong> Ensure images are 1200x630px and under 5MB</li>
            <li><strong>Generic previews:</strong> Clear cache and re-test</li>
            <li><strong>Missing descriptions:</strong> Check og:description meta tag</li>
            <li><strong>Wrong titles:</strong> Verify og:title is set correctly</li>
        </ul>
    </div>

    <script>
        function testUrl(path) {
            const baseUrl = document.getElementById('testUrl').value;
            const fullUrl = baseUrl + path;
            window.open(fullUrl, '_blank');
        }

        function openFacebookDebugger() {
            const url = document.getElementById('testUrl').value;
            window.open(`https://developers.facebook.com/tools/debug/?q=${encodeURIComponent(url)}`, '_blank');
        }

        function openTwitterValidator() {
            const url = document.getElementById('testUrl').value;
            window.open(`https://cards-dev.twitter.com/validator?url=${encodeURIComponent(url)}`, '_blank');
        }

        function openLinkedInInspector() {
            const url = document.getElementById('testUrl').value;
            window.open(`https://www.linkedin.com/post-inspector/inspect/${encodeURIComponent(url)}`, '_blank');
        }

        function openOpenGraphXYZ() {
            const url = document.getElementById('testUrl').value;
            window.open(`https://www.opengraph.xyz/?url=${encodeURIComponent(url)}`, '_blank');
        }

        function inspectMetaTags() {
            const results = document.getElementById('metaResults');
            const metaTags = document.querySelectorAll('meta[property^="og:"], meta[name^="twitter:"], meta[property^="twitter:"]');
            
            let html = '<div class="meta-preview"><h4>Meta Tags Found:</h4>';
            
            if (metaTags.length === 0) {
                html += '<p class="status error">No Open Graph meta tags found on this page.</p>';
            } else {
                metaTags.forEach(tag => {
                    const property = tag.getAttribute('property') || tag.getAttribute('name');
                    const content = tag.getAttribute('content');
                    html += `<p><strong>${property}:</strong> ${content}</p>`;
                });
            }
            
            html += '</div>';
            results.innerHTML = html;
        }

        // Auto-populate URL if localhost is detected
        if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
            document.getElementById('testUrl').value = window.location.origin;
        }
    </script>
</body>
</html>
